        <!DOCTYPE html>
        <html>
        <head>
          <title>Transformer Diff - web/src/demo_components/progress.dart</title>
          <style>
            .diff-unmodified {
                color: #444;
            }
            .diff-removal {
                color: #a00;
                background-color: #fee;
                text-decoration: line-through;
            }
            .diff-addition {
                color: #0a0;
                background-color: #efe;
            }
          </style>
        </head>
        <body>
          <code>
            <pre><span class="diff-unmodified">part of over_react.web.demo_components;

/// Bootstrap's `Progress` component stylizes the HTML5 `&lt;progress&gt;` element with a
/// few extra CSS classes and some crafty browser-specific CSS.
///
/// See: &lt;http://v4-alpha.getbootstrap.com/components/progress/&gt;
@Factory()
UiFactory&lt;ProgressProps&gt; Progress</span><span class="diff-addition"> = ([Map backingProps]) =&gt; new _$ProgressPropsImpl(backingProps)</span><span class="diff-unmodified">;

@Props()
class ProgressProps extends UiProps {</span><span class="diff-addition">    /* GENERATED CONSTANTS */ static const ConsumedProps $consumedProps = const ConsumedProps($props, $propKeys); static const PropDescriptor _$prop__value = const PropDescriptor(_$key__value), _$prop__min = const PropDescriptor(_$key__min), _$prop__max = const PropDescriptor(_$key__max), _$prop__skin = const PropDescriptor(_$key__skin), _$prop__isStriped = const PropDescriptor(_$key__isStriped), _$prop__isAnimated = const PropDescriptor(_$key__isAnimated), _$prop__caption = const PropDescriptor(_$key__caption), _$prop__captionProps = const PropDescriptor(_$key__captionProps), _$prop__showCaption = const PropDescriptor(_$key__showCaption), _$prop__showPercentComplete = const PropDescriptor(_$key__showPercentComplete), _$prop__rootNodeProps = const PropDescriptor(_$key__rootNodeProps); static const List&lt;PropDescriptor&gt; $props = const [_$prop__value, _$prop__min, _$prop__max, _$prop__skin, _$prop__isStriped, _$prop__isAnimated, _$prop__caption, _$prop__captionProps, _$prop__showCaption, _$prop__showPercentComplete, _$prop__rootNodeProps]; static const String _$key__value = 'ProgressProps.value', _$key__min = 'ProgressProps.min', _$key__max = 'ProgressProps.max', _$key__skin = 'ProgressProps.skin', _$key__isStriped = 'ProgressProps.isStriped', _$key__isAnimated = 'ProgressProps.isAnimated', _$key__caption = 'ProgressProps.caption', _$key__captionProps = 'ProgressProps.captionProps', _$key__showCaption = 'ProgressProps.showCaption', _$key__showPercentComplete = 'ProgressProps.showPercentComplete', _$key__rootNodeProps = 'ProgressProps.rootNodeProps'; static const List&lt;String&gt; $propKeys = const [_$key__value, _$key__min, _$key__max, _$key__skin, _$key__isStriped, _$key__isAnimated, _$key__caption, _$key__captionProps, _$key__showCaption, _$key__showPercentComplete, _$key__rootNodeProps]; </span><span class="diff-unmodified">
  /// The id for the [Progress] component.
  ///
  /// If left unspecified one will be auto-generated for you to ensure
  /// that the [caption] element is properly linked for accessibility purposes.
  @override
  String get id;

  /// The current value of the [Progress] component.
  ///
  /// This value should be between the [min] and [max] values.
  ///
  /// Default: `0.0`
  </span><span class="diff-removal">double </span><span class="diff-removal">value</span><span class="diff-addition">double get value =&gt; props[_$key__value];  set value(double value) =&gt; props[_$key__value] = value;</span><span class="diff-removal">;</span><span class="diff-unmodified">

  /// The min value of the [Progress] component.
  ///
  /// Default: `0.0`
  </span><span class="diff-removal">double </span><span class="diff-removal">min</span><span class="diff-addition">double get min =&gt; props[_$key__min];  set min(double value) =&gt; props[_$key__min] = value;</span><span class="diff-removal">;</span><span class="diff-unmodified">

  /// The max value of the [Progress] component.
  ///
  /// Default: `100.0`
  </span><span class="diff-removal">double </span><span class="diff-removal">max</span><span class="diff-addition">double get max =&gt; props[_$key__max];  set max(double value) =&gt; props[_$key__max] = value;</span><span class="diff-removal">;</span><span class="diff-unmodified">

  /// The skin / "context" for the [Progress] component.
  ///
  /// See: &lt;http://v4-alpha.getbootstrap.com/components/progress/#contextual-alternatives&gt;.
  ///
  /// Default: [ProgressSkin.DEFAULT]
  </span><span class="diff-removal">ProgressSkin </span><span class="diff-removal">skin</span><span class="diff-addition">ProgressSkin get skin =&gt; props[_$key__skin];  set skin(ProgressSkin value) =&gt; props[_$key__skin] = value;</span><span class="diff-removal">;</span><span class="diff-unmodified">

  /// Whether to render a "Barber Pole" gradient stripe effect in the [Progress] component.
  ///
  /// Default: false
  </span><span class="diff-removal">bool </span><span class="diff-removal">isStriped</span><span class="diff-addition">bool get isStriped =&gt; props[_$key__isStriped];  set isStriped(bool value) =&gt; props[_$key__isStriped] = value;</span><span class="diff-removal">;</span><span class="diff-unmodified">

  /// Whether to animate the "Barber Pole" gradient stripe effect in the [Progress] component.
  ///
  /// __Note:__ Has no effect if [isStriped] is `false`.
  ///
  /// Default: false
  </span><span class="diff-removal">bool </span><span class="diff-removal">isAnimated</span><span class="diff-addition">bool get isAnimated =&gt; props[_$key__isAnimated];  set isAnimated(bool value) =&gt; props[_$key__isAnimated] = value;</span><span class="diff-removal">;</span><span class="diff-unmodified">

  /// Optionally add a caption that describes the context of the [Progress] component.
  ///
  /// See: &lt;http://v4-alpha.getbootstrap.com/components/progress/#example&gt;.
  ///
  /// Default: [ProgressComponent._getPercentComplete]%
  </span><span class="diff-removal">String </span><span class="diff-removal">caption</span><span class="diff-addition">String get caption =&gt; props[_$key__caption];  set caption(String value) =&gt; props[_$key__caption] = value;</span><span class="diff-removal">;</span><span class="diff-unmodified">

  /// Additional props to be added to the [caption] element _(if specified)_.
  </span><span class="diff-removal">Map </span><span class="diff-removal">captionProps</span><span class="diff-addition">Map get captionProps =&gt; props[_$key__captionProps];  set captionProps(Map value) =&gt; props[_$key__captionProps] = value;</span><span class="diff-removal">;</span><span class="diff-unmodified">

  /// Whether the [caption] should be visible.
  ///
  /// Default: false
  </span><span class="diff-removal">bool </span><span class="diff-removal">showCaption</span><span class="diff-addition">bool get showCaption =&gt; props[_$key__showCaption];  set showCaption(bool value) =&gt; props[_$key__showCaption] = value;</span><span class="diff-removal">;</span><span class="diff-unmodified">

  /// Whether the [caption] should be appended with the value of [value].
  ///
  /// Default: true
  </span><span class="diff-removal">bool </span><span class="diff-removal">showPercentComplete</span><span class="diff-addition">bool get showPercentComplete =&gt; props[_$key__showPercentComplete];  set showPercentComplete(bool value) =&gt; props[_$key__showPercentComplete] = value;</span><span class="diff-removal">;</span><span class="diff-unmodified">

  /// Additional props to be added to the [Dom.div] that wraps around the [caption] element and `&lt;progress&gt;` element.
  </span><span class="diff-removal">Map </span><span class="diff-removal">rootNodeProps</span><span class="diff-addition">Map get rootNodeProps =&gt; props[_$key__rootNodeProps];  set rootNodeProps(Map value) =&gt; props[_$key__rootNodeProps] = value;</span><span class="diff-removal">;</span><span class="diff-unmodified">
}

@State()
class ProgressState extends UiState {</span><span class="diff-addition">    /* GENERATED CONSTANTS */ static const StateDescriptor _$prop__id = const StateDescriptor(_$key__id); static const List&lt;StateDescriptor&gt; $state = const [_$prop__id]; static const String _$key__id = 'ProgressState.id'; static const List&lt;String&gt; $stateKeys = const [_$key__id]; </span><span class="diff-unmodified">
  /// An autogenerated GUID, used as a fallback when [ProgressProps.id] is unspecified, and
  /// saved on the state so it will persist across remounts.
  ///
  /// HTML id attributes are needed on `&lt;progress&gt;` elements for proper accessibility support,
  /// so this state value ensures there's always a valid ID value to use.
  </span><span class="diff-removal">String </span><span class="diff-removal">id</span><span class="diff-addition">String get id =&gt; state[_$key__id];  set id(String value) =&gt; state[_$key__id] = value;</span><span class="diff-removal">;</span><span class="diff-unmodified">
}

@Component()
class ProgressComponent extends UiStatefulComponent&lt;ProgressProps, ProgressState&gt;</span><span class="diff-addition"> with _$ProgressComponentImplMixin</span><span class="diff-unmodified"> {
  @override
  Map getDefaultProps() =&gt; (newProps()
    ..value = 0.0
    ..min = 0.0
    ..max = 100.0
    ..skin = ProgressSkin.DEFAULT
    ..isStriped = false
    ..isAnimated = false
    ..showCaption = false
    ..showPercentComplete = true
  );

  @override
  Map getInitialState() =&gt; (newState()
    ..id = 'progress_' + generateGuid(4)
  );

  @override
  render() {
    return (Dom.div()..addProps(props.rootNodeProps))(
      renderCaptionNode(),
      renderProgressNode(),
      props.children
    );
  }

  ReactElement renderProgressNode() {
    return (Dom.progress()
      ..addProps(copyUnconsumedDomProps())
      ..addProps(ariaProps()
        ..labelledby = captionId
      )
      ..className = _getProgressNodeClasses().toClassName()
      ..id = id
      ..value = currentValue
      ..max = props.max
    )();
  }

  ReactElement renderCaptionNode() {
    var captionClasses = new ClassNameBuilder.fromProps(props.captionProps)
      ..add('sr-only', !props.showCaption);

    var captionText = props.caption  ?? '';

    if (props.showPercentComplete) {
      captionText += ' ${_getPercentComplete()}%';
    }

    return (Dom.div()
      ..addProps(props.captionProps)
      ..id = captionId
      ..className = captionClasses.toClassName()
    )(captionText);
  }

  ClassNameBuilder _getProgressNodeClasses() {
    return new ClassNameBuilder()
      ..add('progress')
      ..add('progress-striped', props.isStriped)
      ..add('progress-animated', props.isAnimated)
      ..add(props.skin.className);
  }

  /// Get the percentage complete based on [ProgressProps.min], [ProgressProps.max] and [ProgressProps.value].
  double _getPercentComplete() {
    return (props.value - props.min) / (props.max - props.min) * 100;
  }

  /// Returns the value that determines the width of the progress bar
  /// within the rendered [Progress] component via [DomPropsMixin.value].
  ///
  /// Note that the value of the HTML `&lt;progress&gt;` element's value
  /// attribute will never be less than the value of [ProgressProps.min].
  double get currentValue =&gt; max(props.min, props.value);

  String get id =&gt; props.id ?? state.id;

  String get captionId =&gt; '${id}_caption';
}

/// Contextual skin options for a [Progress] component.
class ProgressSkin extends ClassNameConstant {
  const ProgressSkin._(String name, String className) : super(name, className);

  /// [className] value: ''
  static const ProgressSkin DEFAULT =
      const ProgressSkin._('DEFAULT', '');

  /// [className] value: 'progress-danger'
  static const ProgressSkin DANGER =
      const ProgressSkin._('DANGER', 'progress-danger');

  /// [className] value: 'progress-success'
  static const ProgressSkin SUCCESS =
      const ProgressSkin._('SUCCESS', 'progress-success');

  /// [className] value: 'progress-warning'
  static const ProgressSkin WARNING =
      const ProgressSkin._('WARNING', 'progress-warning');

  /// [className] value: 'progress-info'
  static const ProgressSkin INFO =
      const ProgressSkin._('INFO', 'progress-info');
}
</span><span class="diff-addition">


// -----------------------------------------------------------------------------
// -----------------------------------------------------------------------------
//
//   GENERATED IMPLEMENTATIONS
//

// React component factory implementation.
//
// Registers component implementation and links type meta to builder factory.
final $ProgressComponentFactory = registerComponent(() =&gt; new ProgressComponent(),
    builderFactory: Progress,
    componentClass: ProgressComponent,
    isWrapper: false,
    parentType: null,
    displayName: 'Progress'
);

// Concrete props implementation.
//
// Implements constructor and backing map, and links up to generated component factory.
class _$ProgressPropsImpl extends ProgressProps {
  /// The backing props map proxied by this class.
  @override
  final Map props;

  _$ProgressPropsImpl(Map backingMap) : this.props = backingMap ?? ({});

  /// Let [UiProps] internals know that this class has been generated.
  @override
  bool get $isClassGenerated =&gt; true;

  /// The [ReactComponentFactory] associated with the component built by this class.
  @override
  Function get componentFactory =&gt; $ProgressComponentFactory;

  /// The default namespace for the prop getters/setters generated for this class.
  @override
  String get propKeyNamespace =&gt; 'ProgressProps.';
}

// Concrete state implementation.
//
// Implements constructor and backing map.
class _$ProgressStateImpl extends ProgressState {
  /// The backing state map proxied by this class.
  @override
  final Map state;

  _$ProgressStateImpl(Map backingMap) : this.state = backingMap ?? ({});

  /// Let [UiState] internals know that this class has been generated.
  @override
  bool get $isClassGenerated =&gt; true;
}

// Concrete component implementation mixin.
//
// Implements typed props/state factories, defaults `consumedPropKeys` to the keys
// generated for the associated props class.
class _$ProgressComponentImplMixin {
  /// Let [UiComponent] internals know that this class has been generated.
  @override
  bool get $isClassGenerated =&gt; true;

  /// The default consumed props, taken from ProgressProps.
  /// Used in [UiProps.consumedProps] if [consumedProps] is not overridden.
  @override
  final List&lt;ConsumedProps&gt; $defaultConsumedProps = const [ProgressProps.$consumedProps];
  @override
  ProgressProps typedPropsFactory(Map backingMap) =&gt; new _$ProgressPropsImpl(backingMap);
  @override
  ProgressState typedStateFactory(Map backingMap) =&gt; new _$ProgressStateImpl(backingMap);
}

//
//   END GENERATED IMPLEMENTATIONS
//
// -----------------------------------------------------------------------------
// -----------------------------------------------------------------------------

</span><span class="diff-unmodified"></span></pre>
          </code>
        </body>
        </html>
    